(this["webpackJsonpreact-login"]=this["webpackJsonpreact-login"]||[]).push([[0],{43:function(e,t,n){},63:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(35),s=n.n(r),o=n(36),i=n(2),l=n(13),j=n.n(l),u=n(14),m=n(22),b=n(23),h=n(15),p=n(16),d=n(19),f=n(18),O=(n(43),n(17)),x=n.n(O),g=n(9),v=n(0),w="https://jnaappointments.herokuapp.com",y=new g.a,C=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={form:{email:"",password:""}},e.handleChange=function(){var t=Object(b.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({form:Object(m.a)(Object(m.a)({},e.state.form),{},Object(u.a)({},n.target.name,n.target.value))});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.iniciarSesion=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.post(w+"/login",{email:e.state.form.email,password:e.state.form.password}).then((function(e){return console.log(e.data),e.data})).then((function(e){if(e.length>0){var t=e[0];console.log(t),y.set("_id",t._id,{path:"/"}),y.set("lastname",t.lastname,{path:"/"}),y.set("firstname",t.firstname,{path:"/"}),y.set("username",t.username,{path:"/"}),y.set("email",t.email,{path:"/"}),alert("Welcome to your page ".concat(t.firstname," ").concat(t.lastname)),window.location.href="./menu"}})).catch((function(e){alert("".concat(e))}));case 2:case"end":return t.stop()}}),t)}))),e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){y.get("_id")&&(window.location.href="./menu")}},{key:"render",value:function(){var e=this;return Object(v.jsx)("div",{className:"fContainer",children:Object(v.jsx)("div",{className:"sContainer",children:Object(v.jsxs)("div",{className:"fGroup",children:[Object(v.jsx)("label",{children:"Email"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"email",className:"form-control",name:"email",onChange:this.handleChange,required:!0}),Object(v.jsx)("br",{}),Object(v.jsx)("label",{children:"Password"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"password",className:"form-control",name:"password",onChange:this.handleChange,required:!0}),Object(v.jsx)("br",{}),Object(v.jsx)("button",{className:"btn btn-primary ",onClick:function(){return e.iniciarSesion()},children:"Log in"}),Object(v.jsxs)("p",{children:["Don't have an account? ",Object(v.jsx)("a",{href:"./Signup",children:"Sign Up Free"})]})]})})})}}]),n}(a.Component),N=new g.a,k=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).logout=function(){N.remove("_id",{path:"/"}),N.remove("firstname",{path:"/"}),N.remove("lastname",{path:"/"}),N.remove("username",{path:"/"}),N.remove("email",{path:"/"}),window.location.href="./"},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){N.get("firstname")||(window.location.href="/")}},{key:"render",value:function(){var e=this;return console.log("_id: "+N.get("_id")),console.log("firstname: "+N.get("firstname")),console.log("lastname: "+N.get("lastname")),console.log("username: "+N.get("username")),Object(v.jsxs)("div",{children:["Menu Principal",Object(v.jsx)("button",{onClick:function(){return e.logout()},children:"Log out"})]})}}]),n}(a.Component),S=n(11),_=(n(63),new g.a),L=function(){var e=Object(a.useState)(""),t=Object(S.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(S.a)(r,2),o=s[0],i=s[1],l=Object(a.useState)(""),j=Object(S.a)(l,2),u=j[0],m=j[1],b=Object(a.useState)(""),h=Object(S.a)(b,2),p=h[0],d=h[1],f=Object(a.useState)(""),O=Object(S.a)(f,2),g=O[0],w=O[1];return Object(v.jsx)("div",{className:"containerPrincipal",children:Object(v.jsx)("div",{className:"containerSecundario",children:Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Firstname"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"text",className:"form-control",name:"firstname",onChange:function(e){var t=e.target;c(t.value)}}),Object(v.jsx)("br",{}),Object(v.jsx)("label",{children:"Lastname"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"text",className:"form-control",name:"lastname",onChange:function(e){var t=e.target;i(t.value)}}),Object(v.jsx)("br",{}),Object(v.jsx)("label",{children:"Username"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"text",className:"form-control",name:"username",onChange:function(e){var t=e.target;d(t.value)}}),Object(v.jsx)("br",{}),Object(v.jsx)("label",{children:"Email"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"email",className:"form-control",name:"email",onChange:function(e){var t=e.target;m(t.value)}}),Object(v.jsx)("br",{}),Object(v.jsx)("label",{children:"Password"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"password",className:"form-control",name:"password",onChange:function(e){var t=e.target;w(t.value)}}),Object(v.jsx)("br",{}),Object(v.jsx)("button",{className:"btn btn-primary ",onClick:function(){x.a.post("https://jnaappointments.herokuapp.com/signup",{firstname:n,lastname:o,username:p,email:u,password:g}).then((function(e){return console.log(e.data),e.data})).then((function(e){if(e.length>0){var t=e[0];console.log(t),console.log(t),_.set("_id",t._id,{path:"/"}),_.set("lastname",t.lastname,{path:"/"}),_.set("firstname",t.firstname,{path:"/"}),_.set("username",t.username,{path:"/"}),_.set("email",t.email,{path:"/"}),alert("Welcome to your page ".concat(t.firstname," ").concat(t.lastname)),window.location.href="./menu"}})).catch((function(e){console.log(e)}))},children:"Sign up Free"}),Object(v.jsxs)("p",{children:["Already have an account? ",Object(v.jsx)("a",{href:"./",children:"Log In"})]})]})})})};var M=function(){return Object(v.jsx)(o.a,{children:Object(v.jsxs)(i.c,{children:[Object(v.jsx)(i.a,{exact:!0,path:"/",component:C}),Object(v.jsx)(i.a,{exact:!0,path:"/menu",component:k}),Object(v.jsx)(i.a,{exact:!0,path:"/signup",component:L})]})})};s.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(M,{})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.2974276a.chunk.js.map